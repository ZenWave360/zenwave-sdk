package {{layout.outboundRepositoryPackage}}
{{~assign 'aggregate' (findEntityAggregate entity.name)}}

import {{layout.entitiesPackage}}.*
import java.math.*
import java.time.*
import java.util.*

import org.springframework.data.jpa.repository.*
import org.springframework.stereotype.Repository

/**
 * Spring Data JPA repository for the {{entity.className}} entity.
 */
@Suppress("unused")
@Repository
interface {{entity.className}}Repository : JpaRepository<{{entity.className}}, {{idJavaType}}> {

{{~#if aggregate}}
    fun find{{aggregate}}ById(id: {{idJavaType}}): {{aggregate}}? {
      return findById(id).orElse(null)?.let { {{aggregate}}(it) }
    }
{{~/if}}

{{~#if (naturalIdFields entity)}}{{{naturalIdsRepoMethodSignature entity}}}{{/if}}
}
